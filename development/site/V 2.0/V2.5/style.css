/* -----------------------------
   FILMSEELE Â· FINDING NEMO MVP
   Extracted CSS for V2.5
   Principles: fluid motion, layered depth, light/shadow, micro-interactions, a11y, perf
   ----------------------------- */

/* Palette (provided + extended) */
:root {
  --golden-gate-bridge: #f24702; /* clownfish orange */
  --palatinate-blue: #013fe8;    /* reef blue */
  --prussian-blue: #0e3952;      /* mid-depth */
  --indigo-dye: #0c437b;         /* deep ocean */
  --sea-green: #389054;          /* kelp */
  --light-foam-white: #e0f2f7;   /* foam / light */
  --sandy-beige: #d4b886;        /* sea floor */
  --glowing-yellow: #fddb00;     /* highlight */

  --glass-bg: rgba(255, 255, 255, 0.08);
  --glass-brd: rgba(255, 255, 255, 0.18);
  --glass-shine: linear-gradient(135deg, rgba(255,255,255,.35), rgba(255,255,255,.05) 35%, rgba(255,255,255,0) 60%);

  --text-hi: #ecf7ff;
  --text-dim: #a8c6d9;

  --maxw: 1100px;
}

/* Reset-ish */
*, *::before, *::after { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  color: var(--text-hi); background: var(--indigo-dye);
  overflow: hidden; /* we keep a single-screen hub */
}
a { color: inherit; text-decoration: none; }
button { font: inherit; color: inherit; }

/* Accessible skip */
.skip-link { position: absolute; left: -9999px; top: auto; width:1px; height:1px; overflow:hidden; }
.skip-link:focus { left: 1rem; top: 1rem; padding: .5rem .75rem; border-radius: .75rem; background: #0008; outline: 2px solid #fff5; }

/* ------------
   OCEAN SCENE
   ------------ */
.scene {
  position: fixed; inset: 0;
  perspective: 1200px;
  overflow: hidden;
}

/* Depth gradient + caustics */
.ocean-bg {
  position: absolute; inset: -10vmin; /* bleed beyond edges for parallax */
  background:
    radial-gradient(120vmax 70vmax at 50% -10%, rgba(255,255,255,0.25), transparent 60%),
    linear-gradient(#0b2d53, #0c3d6f 40%, #082a42 75%, #041c2c);
  filter: saturate(1.05);
  will-change: transform;
  transform: translateZ(-300px) scale(1.3);
}

/* Moving light caustics layer */
.caustics {
  position: absolute; inset: -20vmin;
  mix-blend-mode: overlay; opacity: .28;
  background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 800"><filter id="f"><feTurbulence type="fractalNoise" baseFrequency="0.013 0.017" numOctaves="3" seed="9"/><feColorMatrix type="saturate" values="0"/><feGaussianBlur stdDeviation=".5"/><feComponentTransfer><feFuncA type="table" tableValues="0 .55 .2 0"/></feComponentTransfer></filter><rect width="800" height="800" filter="url(%23f)" fill="white"/></svg>');
  background-size: 700px 700px;
  animation: drift 26s linear infinite;
  will-change: transform, background-position;
  transform: translateZ(-200px) scale(1.2);
}
@keyframes drift { to { background-position: 700px 700px; } }

/* Far silhouettes (fish schools) */
.far-life {
  position: absolute; inset: -5vmin; pointer-events: none; opacity: .35;
  transform: translateZ(-120px) scale(1.1);
}

/* Mid kelp */
.kelp-field {
  position: absolute; bottom: -2vmin; left: 0; right: 0; height: 45vmin; pointer-events: none;
  transform: translateZ(-60px);
}
.kelp {
  position: absolute; bottom: 0; width: 1.2vmin; height: 40vmin; left: var(--x, 10%);
  transform-origin: bottom center; border-radius: 2vmin;
  background: linear-gradient(var(--sea-green), #1e6b3a);
  filter: drop-shadow(0 0 8px #0006);
  animation: sway calc(7s + var(--d, 0s)) ease-in-out infinite alternate;
  opacity: .9;
}
@keyframes sway { to { transform: rotateZ(6deg) translateX(0.3vmin); } }

/* Bubbles (ambient) */
.bubble { position: absolute; bottom: -5vmin; width: 1.1vmin; height: 1.1vmin; border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.9), rgba(255,255,255,.25) 30%, rgba(255,255,255,.08) 60%, rgba(255,255,255,0) 70%);
  filter: blur(.2vmin);
  animation: rise linear forwards;
  opacity: .8;
}
@keyframes rise { to { transform: translateY(-105vh) translateX(var(--drift, 0)) scale(1.1); opacity: 0; } }

/* Central anemone + hub */
.hub {
  position: absolute; inset: 0; display: grid; place-items: center; z-index: 10;
}
.anemone {
  position: relative; width: min(50vmin, 520px); aspect-ratio: 1/1; border-radius: 50%;
  background: radial-gradient(circle at 45% 40%, #ffb088, #ff8a57 40%, #ca4b1c 70%, #752910 92%);
  box-shadow:
    0 0 0 2px #ffffff18 inset,
    0 30px 70px #0008,
    0 0 80px #ff5a23aa inset;
  overflow: visible;
  animation: pulse 4.8s ease-in-out infinite;
}
@keyframes pulse { 50% { transform: scale(1.02); filter: saturate(1.05) brightness(1.06); } }

/* Simplified tentacles */
.anemone .tentacle { position: absolute; bottom: 8%; left: 50%; width: 1.6vmin; height: 36%; background: linear-gradient(#ffa07a, #a83a0f);
  border-radius: 2vmin; transform-origin: bottom center; opacity: .92; filter: drop-shadow(0 8px 10px #0008);
  animation: wiggle 5.5s ease-in-out calc(var(--i) * -0.3s) infinite alternate;
}
.anemone .tentacle:nth-child(1){ --i:1; transform: translateX(-22vmin) rotateZ(-10deg); }
.anemone .tentacle:nth-child(2){ --i:2; transform: translateX(-15vmin) rotateZ(-5deg); }
.anemone .tentacle:nth-child(3){ --i:3; transform: translateX(-8vmin)  rotateZ(-2deg); }
.anemone .tentacle:nth-child(4){ --i:4; transform: translateX(0)       rotateZ(0deg); }
.anemone .tentacle:nth-child(5){ --i:5; transform: translateX(8vmin)  rotateZ(2deg); }
.anemone .tentacle:nth-child(6){ --i:6; transform: translateX(15vmin) rotateZ(5deg); }
.anemone .tentacle:nth-child(7){ --i:7; transform: translateX(22vmin) rotateZ(10deg); }

@keyframes wiggle { to { transform: translateX(var(--tx, 0)) rotateZ(var(--rz, 6deg)); } }

/* Glassmorphism nav bubbles */
.nav-bubbles { position: absolute; inset: 0; pointer-events: none; }
.bubble-btn {
  --size: clamp(110px, 10.5vmin, 160px);
  position: absolute; width: var(--size); height: var(--size);
  border-radius: 50%; display: grid; place-items: center; text-align: center;
  background: var(--glass-bg); border: 1px solid var(--glass-brd);
  box-shadow: 0 10px 30px #0007, inset 0 0 0 1px #ffffff1a;
  backdrop-filter: blur(8px) saturate(1.2);
  -webkit-backdrop-filter: blur(8px) saturate(1.2);
  pointer-events: auto; cursor: pointer; user-select: none;
  transition: transform .35s ease, box-shadow .35s ease, background .35s ease;
  overflow: hidden;
}
.bubble-btn::before {
  content:""; position:absolute; inset:0; background: var(--glass-shine); mix-blend-mode: screen; opacity:.6; transform: translateY(-20%);
}
.bubble-btn:hover { transform: translateY(-4px) scale(1.03); box-shadow: 0 16px 40px #0009, inset 0 0 0 1px #ffffff22; }
.bubble-btn span { font-weight: 700; letter-spacing:.5px; text-shadow: 0 1px 2px #0009; }

/* Positions around the hub anemone */
.btn-themes   { top: 6%;  left: 50%; transform: translate(-50%, 0); }
.btn-chars    { top: 50%; left: 7%;  transform: translate(0, -50%); }
.btn-journey  { top: 50%; right: 7%; transform: translate(0, -50%); }
.btn-extras   { bottom: 5%; left: 50%; transform: translate(-50%, 0); }

/* Tiny clownfish badge on anemone */
.clownfish {
  position: absolute; width: 9vmin; aspect-ratio: 2.6/1; top: 22%; left: 56%; transform: translate(-50%, -50%) rotate(6deg);
  filter: drop-shadow(0 3px 6px #0006);
  animation: floaty 6.5s ease-in-out infinite alternate;
}
@keyframes floaty { to { transform: translate(-50%, -45%) rotate(2deg); } }

/* Controls */
.hud {
  position: absolute; right: 1rem; top: 1rem; display: flex; gap: .5rem; z-index: 20;
}
.hud .ctrl {
  background: var(--glass-bg); border: 1px solid var(--glass-brd); backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px); padding: .5rem .7rem; border-radius: .8rem; display: inline-flex; align-items: center; gap: .5rem;
  cursor: pointer; user-select: none; box-shadow: 0 8px 20px #0007;
}
.hud .ctrl svg { width: 18px; height: 18px; opacity: .85; }

.legend {
  position: absolute; left: 1rem; bottom: 1rem; max-width: min(92vw, var(--maxw)); z-index: 20;
  background: var(--glass-bg); border: 1px solid var(--glass-brd); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
  padding: .85rem 1rem; border-radius: 1rem; box-shadow: 0 10px 30px #0008;
  color: var(--text-dim);
}
.legend b { color: var(--text-hi); }

/* Responsive tweaks */
@media (max-width: 800px) {
  .btn-chars, .btn-journey { top: auto; bottom: 18%; }
  .btn-chars { left: 10%; }
  .btn-journey { right: 10%; }
  .btn-themes { top: 4%; }
  .btn-extras { bottom: 4%; }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; }
}
